{"ast":null,"code":"import React from'react';import{useBuilderStore}from'../../store/builderStore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Toolbar=()=>{const{undo,redo,saveTemplate,exportJSON,exportMJML,history,historyIndex}=useBuilderStore();const canUndo=historyIndex>0;const canRedo=historyIndex<history.length-1;const handleExportJSON=()=>{const json=exportJSON();const blob=new Blob([json],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='email-template.json';a.click();URL.revokeObjectURL(url);};const handleExportMJML=()=>{const mjml=exportMJML();const blob=new Blob([mjml],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='email-template.mjml';a.click();URL.revokeObjectURL(url);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:undo,disabled:!canUndo,className:\"p-2 rounded-lg transition-colors \".concat(canUndo?'bg-gray-200 hover:bg-gray-300 text-gray-700':'bg-gray-100 text-gray-400 cursor-not-allowed'),title:\"Undo\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:redo,disabled:!canRedo,className:\"p-2 rounded-lg transition-colors \".concat(canRedo?'bg-gray-200 hover:bg-gray-300 text-gray-700':'bg-gray-100 text-gray-400 cursor-not-allowed'),title:\"Redo\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-6 bg-gray-300\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveTemplate,className:\"btn-primary text-sm px-3 py-2\",title:\"Save Template\",children:\"Save\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary text-sm px-3 py-2\",children:[\"Export\",/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 ml-1 inline\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExportJSON,className:\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",children:\"Export as JSON\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportMJML,className:\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",children:\"Export as MJML\"})]})})]})]});};","map":{"version":3,"names":["React","useBuilderStore","jsx","_jsx","jsxs","_jsxs","Toolbar","undo","redo","saveTemplate","exportJSON","exportMJML","history","historyIndex","canUndo","canRedo","length","handleExportJSON","json","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleExportMJML","mjml","className","children","onClick","disabled","concat","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["/Users/utshabluitel/Projects/email-temp-453/src/components/Toolbar/Toolbar.tsx"],"sourcesContent":["import React from 'react';\nimport { useBuilderStore } from '../../store/builderStore';\n\n\n\nexport const Toolbar: React.FC = () => {\n  const { \n    undo, \n    redo, \n    saveTemplate, \n    exportJSON, \n    exportMJML,\n    history,\n    historyIndex \n  } = useBuilderStore();\n\n  const canUndo = historyIndex > 0;\n  const canRedo = historyIndex < history.length - 1;\n\n  const handleExportJSON = () => {\n    const json = exportJSON();\n    const blob = new Blob([json], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'email-template.json';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleExportMJML = () => {\n    const mjml = exportMJML();\n    const blob = new Blob([mjml], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'email-template.mjml';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"flex items-center space-x-2\">\n      {/* Undo/Redo */}\n      <button\n        onClick={undo}\n        disabled={!canUndo}\n        className={`p-2 rounded-lg transition-colors ${\n          canUndo \n            ? 'bg-gray-200 hover:bg-gray-300 text-gray-700' \n            : 'bg-gray-100 text-gray-400 cursor-not-allowed'\n        }`}\n        title=\"Undo\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" />\n        </svg>\n      </button>\n\n      <button\n        onClick={redo}\n        disabled={!canRedo}\n        className={`p-2 rounded-lg transition-colors ${\n          canRedo \n            ? 'bg-gray-200 hover:bg-gray-300 text-gray-700' \n            : 'bg-gray-100 text-gray-400 cursor-not-allowed'\n        }`}\n        title=\"Redo\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6\" />\n        </svg>\n      </button>\n\n      <div className=\"w-px h-6 bg-gray-300\"></div>\n\n\n\n      {/* Save */}\n      <button\n        onClick={saveTemplate}\n        className=\"btn-primary text-sm px-3 py-2\"\n        title=\"Save Template\"\n      >\n        Save\n      </button>\n\n      {/* Export */}\n      <div className=\"relative group\">\n        <button className=\"btn-secondary text-sm px-3 py-2\">\n          Export\n          <svg className=\"w-4 h-4 ml-1 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n          </svg>\n        </button>\n        \n        <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50\">\n          <div className=\"py-1\">\n            <button\n              onClick={handleExportJSON}\n              className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n            >\n              Export as JSON\n            </button>\n            <button\n              onClick={handleExportMJML}\n              className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n            >\n              Export as MJML\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}